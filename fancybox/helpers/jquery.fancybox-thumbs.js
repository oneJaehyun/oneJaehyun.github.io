!function(r){var t;r.fancybox.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function t(i){var h;return i.element&&(h=r(i.element).find("img").attr("src")),!h&&"image"===i.type&&i.href&&(h=i.href),h}},wrap:null,list:null,width:0,init:function t(i,h){var n=this,e,a=i.width,l=i.height,s=i.source;e="";for(var o=0;o<h.group.length;o++)e+='<li><a style="width:'+a+"px;height:"+l+'px;" href="javascript:jQuery.fancybox.jumpto('+o+');"></a></li>';this.wrap=r('<div id="fancybox-thumbs"></div>').addClass(i.position).appendTo("body"),this.list=r("<ul>"+e+"</ul>").appendTo(this.wrap),r.each(h.group,function(o){var t=h.group[o],i=s(t);i&&r("<img />").load(function(){var t=this.width,i=this.height,h,e,s;n.list&&t&&i&&(h=t/a,e=i/l,s=n.list.children().eq(o).find("a"),1<=h&&1<=e&&(i=e<h?(t=Math.floor(t/e),l):(t=a,Math.floor(i/h))),r(this).css({width:t,height:i,top:Math.floor(l/2-i/2),left:Math.floor(a/2-t/2)}),s.width(a).height(l),r(this).hide().appendTo(s).fadeIn(300))}).attr("src",i).attr("title",t.title)}),this.width=this.list.children().eq(0).outerWidth(!0),this.list.width(this.width*(h.group.length+1)).css("left",Math.floor(.5*r(window).width()-(h.index*this.width+.5*this.width)))},beforeLoad:function t(i,h){h.group.length<2?h.helpers.thumbs=!1:h.margin["top"===i.position?0:2]+=i.height+15},afterShow:function t(i,h){this.list?this.onUpdate(i,h):this.init(i,h),this.list.children().removeClass("active").eq(h.index).addClass("active")},onUpdate:function t(i,h){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*r(window).width()-(h.index*this.width+.5*this.width))},150)},beforeClose:function t(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery);